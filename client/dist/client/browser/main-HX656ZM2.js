import{a as Be,b as Gn}from"./chunk-FZSEM6PL.js";import{a as eo,b as ot,c as to,d as it,e as rt,f as no,g as st,h as at,i as oo,j as ct,k as lt,l as pt,m as io}from"./chunk-PMHQJODB.js";import{a as He}from"./chunk-E6VCRUKE.js";import{A as Qn,B as Qe,C as et,D as tt,E as nt,a as Vn,b as zn,d as Lt,e as qe,f as Un,g as Hn,h as Bn,i as qn,j as Zn,k as Gt,l as Ze,m as Kn,n as Ke,r as Xn,s as G,t as Xe,u as Yn,v as Ye,w as Jn,x as Je,y as Wn,z as We}from"./chunk-35D7H6KK.js";import{$ as Pn,$a as Ue,A as gn,Aa as bn,Ba as Z,C as hn,Ca as ne,D as Cn,Da as Mn,E as _n,Ea as En,F as re,Fa as On,G as Le,Ha as Ie,Ia as wn,J as vn,Ja as In,Ka as Tn,L as V,La as ze,M as q,Ma as An,N as T,Na as Rn,O as D,Oa as Fn,Pa as Nn,Q as xn,Qa as fe,R as b,Ra as ge,Sa as kn,T as Ge,Ta as he,Ua as K,Va as Ce,W as se,Wa as _e,X as ae,Xa as oe,Y as yn,Ya as L,Za as ve,_ as be,_a as xe,a as C,aa as Ve,ab as ye,b as y,bb as jn,c as Ae,ca as Me,cb as Dn,d as rn,db as $n,e as sn,ea as c,f as an,fa as k,fb as Ln,g as cn,gb as Pe,h as ln,ha as u,hb as ie,i as pn,ia as R,j,ja as d,k as mn,ka as $t,l as S,la as de,m as ee,ma as ue,na as r,o as Se,oa as s,p as te,pa as v,q as N,qa as ce,r as me,ra as O,s as dn,sa as _,t as De,ta as Ee,u as un,ua as Sn,v as fn,va as l,wa as le,x as $e,xa as Oe,y as jt,ya as we,z as Dt,za as M}from"./chunk-AUYOIWGM.js";function mt(){let e=new RegExp("[A-Za-z0-9]+@gmail");return n=>n.value===""||e.test(n.value)?null:{emailValidator:!0}}function dt(e,n){return t=>{let o=t.get(e),i=t.get(n);return o?.value===i?.value?null:{matchPasswordValidator:!0}}}function Vo(e,n){e&1&&(r(0,"p",10),l(1,"email is required!"),s())}function zo(e,n){if(e&1&&(r(0,"div",5),u(1,Vo,2,0,"p",10),s()),e&2){let t,o=_();c(),d(!((t=o.form.get("email"))==null||t.errors==null)&&t.errors.required?1:-1)}}function Uo(e,n){e&1&&(r(0,"p",10),l(1,"Password is required!"),s())}function Ho(e,n){e&1&&(r(0,"p",10),l(1,"Password must be at least 5 characters!"),s())}function Bo(e,n){if(e&1&&(r(0,"div",5),u(1,Uo,2,0,"p",10)(2,Ho,2,0,"p",10),s()),e&2){let t,o,i=_();c(),d(!(i.passGroup==null||(t=i.passGroup.get("password"))==null||t.errors==null)&&t.errors.required?1:-1),c(),d(!(i.passGroup==null||(o=i.passGroup.get("password"))==null||o.errors==null)&&o.errors.minlength?2:-1)}}function qo(e,n){e&1&&(r(0,"p",10),l(1,"Repeat Password does not match password!"),s())}function Zo(e,n){if(e&1&&(r(0,"div",5),u(1,qo,2,0,"p",10),s()),e&2){let t,o=_();c(),d(!(o.passGroup==null||o.passGroup.errors==null)&&o.passGroup.errors.matchPasswordsValidator||!(o.passGroup==null||(t=o.passGroup.get("repeatPassword"))==null||t.errors==null)&&t.errors.required?1:-1)}}var ut=class e{constructor(n,t){this.userService=n;this.router=t}form=new oe({email:new L("",[K.required,mt()]),passGroup:new oe({password:new L("",[K.required]),repeatPassword:new L("",[K.required])},{validators:[dt("password","repeatPassword")]})});get passGroup(){return this.form.get("passGroup")}login(){if(this.form.invalid)return;let{email:n,passGroup:{password:t,repeatPassword:o}={}}=this.form.value;this.userService.login(n,t).subscribe(i=>{this.router.navigate(["/posts"])})}static \u0275fac=function(t){return new(t||e)(k(ie),k(fe))};static \u0275cmp=b({type:e,selectors:[["app-login"]],standalone:!0,features:[M],decls:15,vars:5,consts:[[1,"login"],[1,"container"],[1,"club-form",3,"ngSubmit","formGroup"],[1,"form-group"],["type","email","name","email","id","email","formControlName","email","placeholder","Email"],[1,"error-container"],["formGroupName","passGroup"],["type","password","name","password","id","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u0430","formControlName","password"],["type","password","name","repeatPassword","id","repeatPassword","placeholder","\u041F\u043E\u0442\u0432\u044A\u0440\u0434\u0435\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u0430","formControlName","repeatPassword"],[1,"login-club-btn",3,"disabled"],[1,"error"]],template:function(t,o){if(t&1&&(r(0,"section",0)(1,"div",1)(2,"form",2),O("ngSubmit",function(){return o.login()}),r(3,"div",3),v(4,"input",4),u(5,zo,2,1,"div",5),s(),r(6,"div",6)(7,"div",3),v(8,"input",7),u(9,Bo,3,2,"div",5),s(),r(10,"div",3),v(11,"input",8),u(12,Zo,2,1,"div",5),s()(),r(13,"button",9),l(14,"\u0412\u043B\u0435\u0437"),s()()()()),t&2){let i,a,f;c(2),R("formGroup",o.form),c(3),d((i=o.form.get("email"))!=null&&i.touched?5:-1),c(4),d(!(o.passGroup==null||(a=o.passGroup.get("password"))==null)&&a.touched?9:-1),c(3),d(!(o.passGroup==null||(f=o.passGroup.get("repeatPassword"))==null)&&f.touched?12:-1),c(),R("disabled",o.form.invalid)}},dependencies:[Pe,ve,he,Ce,_e,xe,ye,Ue],styles:[".login[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#1e1e1e;color:#f0f0f0;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]{background-color:#2a2a2a;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:400px}.club-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:.8rem;border-radius:4px;border:1px solid #555;background-color:#1e1e1e;color:#f0f0f0;outline:none;transition:border .3s ease}input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#007bff}.error-container[_ngcontent-%COMP%]{margin-top:.5em}.error[_ngcontent-%COMP%]{color:#ff4f4f;font-size:.9rem}button.login-club-btn[_ngcontent-%COMP%]{padding:.8rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}button.login-club-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}button.login-club-btn[_ngcontent-%COMP%]:disabled{background-color:#444;cursor:not-allowed}"]})};function Ko(e,n){e&1&&(r(0,"p",12),l(1,"Club Name is required!"),s())}function Xo(e,n){if(e&1&&(r(0,"div",5),u(1,Ko,2,0,"p",12),s()),e&2){let t,o=_(2);c(),d(!((t=o.form.get("firstName"))==null||t.errors==null)&&t.errors.required?1:-1)}}function Yo(e,n){if(e&1&&(r(0,"div",3),v(1,"input",11),u(2,Xo,2,1,"div",5),s()),e&2){let t,o=_();c(2),d((t=o.form.get("firstName"))!=null&&t.touched?2:-1)}}function Jo(e,n){e&1&&(r(0,"p",12),l(1,"Name is required!"),s())}function Wo(e,n){if(e&1&&(r(0,"div",5),u(1,Jo,2,0,"p",12),s()),e&2){let t,o=_(2);c(),d(!((t=o.form.get("firstName"))==null||t.errors==null)&&t.errors.required?1:-1)}}function Qo(e,n){e&1&&(r(0,"p",12),l(1,"Last name is required!"),s())}function ei(e,n){if(e&1&&(r(0,"div",5),u(1,Qo,2,0,"p",12),s()),e&2){let t,o=_(2);c(),d(!((t=o.form.get("lastName"))==null||t.errors==null)&&t.errors.required?1:-1)}}function ti(e,n){if(e&1&&(r(0,"div",3),v(1,"input",13),u(2,Wo,2,1,"div",5),s(),r(3,"div",3),v(4,"input",14),u(5,ei,2,1,"div",5),s()),e&2){let t,o,i=_();c(2),d((t=i.form.get("firstName"))!=null&&t.touched?2:-1),c(3),d((o=i.form.get("lastName"))!=null&&o.touched?5:-1)}}function ni(e,n){e&1&&(r(0,"p",12),l(1,"Email is required!"),s())}function oi(e,n){e&1&&(r(0,"p",12),l(1,"Email is not valid!"),s())}function ii(e,n){if(e&1&&(r(0,"div",5),u(1,ni,2,0,"p",12)(2,oi,2,0,"p",12),s()),e&2){let t,o,i=_();c(),d(!((t=i.form.get("email"))==null||t.errors==null)&&t.errors.required?1:-1),c(),d(!((o=i.form.get("email"))==null||o.errors==null)&&o.errors.emailValidator?2:-1)}}function ri(e,n){e&1&&(r(0,"p",12),l(1,"City is required!"),s())}function si(e,n){if(e&1&&(r(0,"div",5),u(1,ri,2,0,"p",12),s()),e&2){let t,o=_();c(),d(!((t=o.form.get("city"))==null||t.errors==null)&&t.errors.required?1:-1)}}function ai(e,n){e&1&&(r(0,"p",12),l(1,"Password is required!"),s())}function ci(e,n){if(e&1&&(r(0,"div",5),u(1,ai,2,0,"p",12),s()),e&2){let t,o=_();c(),d(!(o.passGroup==null||(t=o.passGroup.get("password"))==null||t.errors==null)&&t.errors.required?1:-1)}}function li(e,n){e&1&&(r(0,"p",12),l(1,"Repeat Password does not match password!"),s())}function pi(e,n){if(e&1&&(r(0,"div",5),u(1,li,2,0,"p",12),s()),e&2){let t,o=_();c(),d(!(o.passGroup==null||o.passGroup.errors==null)&&o.passGroup.errors.matchPasswordsValidator||!(o.passGroup==null||(t=o.passGroup.get("repeatPassword"))==null||t.errors==null)&&t.errors.required?1:-1)}}var Re=class e{constructor(n,t,o){this.userService=n;this.router=t;this.route=o}userType="";form=new oe({firstName:new L("",[K.required]),lastName:new L("",[K.required]),email:new L("",[K.required,mt()]),passGroup:new oe({password:new L("",[K.required]),repeatPassword:new L("",[K.required])},{validators:[dt("password","repeatPassword")]}),city:new L("")});get passGroup(){return this.form.get("passGroup")}ngOnInit(){this.route.params.subscribe(n=>{this.userType=n.userType})}register(){if(this.form.invalid)return;let{firstName:n,lastName:t,email:o,passGroup:{password:i,repeatPassword:a}={},city:f}=this.form.value;this.userService.register(n,t,o,i,a,f,this.userType).subscribe(()=>{this.router.navigate(["/login"])})}static \u0275fac=function(t){return new(t||e)(k(ie),k(fe),k(Fn))};static \u0275cmp=b({type:e,selectors:[["app-register"]],standalone:!0,features:[M],decls:20,vars:7,consts:[[1,"register"],[1,"container"],[1,"club-form",3,"ngSubmit","formGroup"],[1,"form-group"],["type","email","name","email","id","email","placeholder","Email","formControlName","email"],[1,"error-container"],["type","text","name","city","id","city","placeholder","City","formControlName","city"],["formGroupName","passGroup"],["type","password","name","password","id","password","placeholder","Password","formControlName","password"],["type","password","name","repeatPassword","id","repeatPassword","placeholder","Repeat password","formControlName","repeatPassword"],[1,"register-club-btn",3,"disabled"],["type","text","name","firstName","id","firstName","placeholder","Club Name","formControlName","firstName"],[1,"error"],["type","text","name","firstName","id","firstName","placeholder","Name","formControlName","firstName"],["type","text","name","lastName","id","lastName","placeholder","Last name","formControlName","lastName"]],template:function(t,o){if(t&1&&(r(0,"section",0)(1,"div",1)(2,"form",2),O("ngSubmit",function(){return o.register()}),u(3,Yo,3,1,"div",3)(4,ti,6,2),r(5,"div",3),v(6,"input",4),u(7,ii,3,2,"div",5),s(),r(8,"div",3),v(9,"input",6),u(10,si,2,1,"div",5),s(),r(11,"div",7)(12,"div",3),v(13,"input",8),u(14,ci,2,1,"div",5),s(),r(15,"div",3),v(16,"input",9),u(17,pi,2,1,"div",5),s()(),r(18,"button",10),l(19,"Register"),s()()()()),t&2){let i,a,f,g;c(2),R("formGroup",o.form),c(),d(o.userType==="club"?3:4),c(4),d((i=o.form.get("email"))!=null&&i.touched?7:-1),c(3),d((a=o.form.get("city"))!=null&&a.touched?10:-1),c(4),d(!(o.passGroup==null||(f=o.passGroup.get("password"))==null)&&f.touched?14:-1),c(3),d(!(o.passGroup==null||(g=o.passGroup.get("repeatPassword"))==null)&&g.touched?17:-1),c(),R("disabled",o.form.invalid)}},dependencies:[Pe,ve,he,Ce,_e,xe,ye,Ue],styles:[".register[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#1e1e1e;color:#f0f0f0;margin:0;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]{background-color:#2a2a2a;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:400px}.club-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:.8rem;border-radius:4px;border:1px solid #555;background-color:#1e1e1e;color:#f0f0f0;outline:none;transition:border .3s ease}input[_ngcontent-%COMP%]:focus{border-color:#007bff}.error-container[_ngcontent-%COMP%]{margin-top:.5em}.error[_ngcontent-%COMP%]{color:#ff4f4f;font-size:.9rem}button.register-club-btn[_ngcontent-%COMP%]{padding:.8rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}button.register-club-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}button.register-club-btn[_ngcontent-%COMP%]:disabled{background-color:#444;cursor:not-allowed}"]})};var Fe=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-home"]],standalone:!0,features:[M],decls:8,vars:0,consts:[[1,"register-type"],[1,"container"],["routerLink","/register/professional"],["routerLink","/register/user"]],template:function(t,o){t&1&&(r(0,"section",0)(1,"div",1)(2,"li")(3,"a",2),l(4,"Professional Profile"),s()(),r(5,"li")(6,"a",3),l(7,"Connect with Specialists"),s()()()())},dependencies:[ge],styles:['.register-type[_ngcontent-%COMP%]{background:#282626;min-height:100vh;background:linear-gradient(#000000b3,#000000b3),url("./media/group-diverse-athletes-sitting-together-SDXQ4B6Q.jpg");background-size:cover}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;max-width:1600px;margin:0 auto}img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:center;list-style:none;width:700px;margin-top:25em;padding:2em;background:transparent;border:2px solid gray;border-radius:3em}.container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#278298;text-decoration:none;font-size:3em;font-weight:900}.container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{border:2px solid #03495a}.container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#03495a}']})};var ft=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-register-professional-type"]],standalone:!0,features:[M],decls:19,vars:0,consts:[[1,"register-types"],[1,"register-title"],[1,"wrapper"],["routerLink","/register/professional/club",1,"category-card"],["routerLink","/register/professional/trainer",1,"category-card"],["routerLink","/register/professional/nutritionist",1,"category-card"],["routerLink","/register/professional/physiotherapist",1,"category-card"]],template:function(t,o){t&1&&(r(0,"section",0)(1,"div",1)(2,"h2"),l(3,"Create Your Profile"),s(),r(4,"p"),l(5,"Choose Your Profile Type"),s()(),r(6,"div",2)(7,"a",3)(8,"p"),l(9,"Club"),s()(),r(10,"a",4)(11,"p"),l(12,"Personal Trainer"),s()(),r(13,"a",5)(14,"p"),l(15,"Nutritionist"),s()(),r(16,"a",6)(17,"p"),l(18,"Physiotherapist"),s()()()())},dependencies:[ge],styles:[".register-types[_ngcontent-%COMP%]{max-width:1800px;margin:0 auto}.register-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1em;margin-bottom:2em;margin-top:2.5em}.register-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;color:#fff}.register-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2em;margin-bottom:2em;color:#fff}.register-types[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;gap:3em}.wrapper[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex:1 1 40%;padding:4em 10em;text-decoration:none;border:2px solid skyblue;border-radius:2em}.wrapper[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2em;color:#fff}.wrapper[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]:hover{border-color:#09465e;cursor:pointer}"]})};var Ne=(e,n)=>{let t=D(ie),o=D(fe);return t.isLogged?!0:(o.navigate(["/home"]),!1)};function so(){return e=>{let n=e,{professional:t,location:o,searchField:i}=n.value;return t||o||i?null:{atLeastOneFieldRequired:!0}}}function mi(e,n){if(e&1&&(r(0,"option",7),l(1),s()),e&2){let t=n.$implicit;R("value",t),c(),le(t)}}function di(e,n){if(e&1&&(r(0,"option",7),l(1),s()),e&2){let t=n.$implicit;R("value",t),c(),le(t)}}var gt=class e{constructor(n){this.fb=n}searchResults=new be;searchForm;ngOnInit(){this.searchForm=new oe({professional:new L(""),location:new L(""),searchField:new L("")},{validators:so()})}search(){if(this.searchForm.invalid)return;let n=this.searchForm.value;this.searchResults.emit(n)}locations=["Sofia","Varna","Burgas","Ruse","Stara Zagora","Pleven","Lovech","Plovdiv","Troyan"];professionals=["Trainer","Nutritionist","Club","Physiotherapist"];static \u0275fac=function(t){return new(t||e)(k(Ln))};static \u0275cmp=b({type:e,selectors:[["app-search"]],outputs:{searchResults:"searchResults"},standalone:!0,features:[M],decls:17,vars:2,consts:[[1,"search"],[1,"container"],[1,"search-form",3,"ngSubmit","formGroup"],[1,"form-group","search-input"],["type","text","formControlName","searchField"],[1,"form-group","type-professional"],["formControlName","professional"],[3,"value"],[1,"form-group","location"],["formControlName","location"],[1,"search-btn",3,"disabled"]],template:function(t,o){t&1&&(r(0,"section",0)(1,"div",1)(2,"form",2),O("ngSubmit",function(){return o.search()}),r(3,"div",3),v(4,"input",4),s(),r(5,"div",5)(6,"select",6),v(7,"option"),de(8,mi,2,2,"option",7,$t),s()(),r(10,"div",8)(11,"select",9),v(12,"option"),de(13,di,2,2,"option",7,$t),s()(),r(15,"button",10),l(16,"Search"),s()()()()),t&2&&(c(2),R("formGroup",o.searchForm),c(6),ue(o.professionals),c(5),ue(o.locations),c(2),R("disabled",o.searchForm.invalid))},dependencies:[Pe,ve,Dn,$n,he,jn,Ce,_e,xe,ye],styles:[".search[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:4em auto}.search-form[_ngcontent-%COMP%]{display:flex;gap:2em;margin:2em 0}.form-group.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em 2em;font-size:1em;border-radius:1.5em;background:#2b2929;color:#fff;cursor:text;outline:none;border:none}.form-group.type-professional[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group.location[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:1em 2em;font-size:1em;border-radius:1.5em;background:#2b2929;color:#fff;border:none;cursor:pointer;outline:none}.form-group.type-professional[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .form-group.location[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:none;outline:none}.search-form[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{padding:1em 2em;font-size:1em;background:#fff;color:#000;border-radius:1.5em;background:#2b2929;color:#fff;border:none;cursor:pointer}.search-form[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:disabled{color:gray}"]})};var ui=e=>["/user/profile",e],ht=class e{professional;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-professional"]],inputs:{professional:"professional"},standalone:!0,features:[M],decls:14,vars:8,consts:[[1,"professional-card"],[1,"right-content"],[1,"media"],["alt","snimka",3,"src"],[1,"content"],[1,"name"],[1,"profession"],[1,"location"],[1,"contact-btn"],[3,"routerLink"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),v(3,"img",3),s(),r(4,"div",4)(5,"h2",5),l(6),s(),r(7,"p",6),l(8),s(),r(9,"p",7),l(10),s()()(),r(11,"div",8)(12,"a",9),l(13,"View Profile"),s()()()),t&2&&(c(3),Ee("src",o.professional.profilePic,Me),c(3),we("",o.professional.firstName," ",o.professional.lastName,""),c(2),le(o.professional.userType),c(2),Oe("city: ",o.professional.city,""),c(2),R("routerLink",bn(6,ui,o.professional._id)))},dependencies:[ge],styles:["img[_ngcontent-%COMP%]{display:block;width:100%;height:auto;border-radius:50%;aspect-ratio:1}.media[_ngcontent-%COMP%]{max-width:150px}.professional-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:4em;background:#2b2929;margin-bottom:2em;border-radius:1.5em}.right-content[_ngcontent-%COMP%]{display:flex;gap:10em}.right-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.7em;font-size:1.2em}.professional-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff}.professional-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.5em}.description[_ngcontent-%COMP%]{font-size:1.3em;color:#fff}.contact-btn[_ngcontent-%COMP%]{display:flex;align-items:center}.contact-btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid white;border-radius:1em;padding:.6em;text-decoration:none;color:#fff;font-size:1.4em}"]})};var Ct=class e{constructor(n){this.http=n}Loading$$=new sn(!1);Loading$=this.Loading$$.asObservable();search(n){this.Loading$$.next(!0);let t=new Tn;return Object.keys(n).forEach(o=>{let i=n[o];i&&(t=t.append(o,i))}),this.http.get("http://localhost:3010/user/search",{params:t}).pipe(jt(()=>this.Loading$$.next(!1)))}static \u0275fac=function(t){return new(t||e)(T(ze))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};var hi=(e,n)=>n._id;function Ci(e,n){e&1&&(r(0,"div",3),v(1,"app-loader"),s())}function _i(e,n){if(e&1&&v(0,"app-professional",5),e&2){let t=n.$implicit;R("professional",t)}}function vi(e,n){if(e&1&&de(0,_i,1,1,"app-professional",5,hi),e&2){let t=_();ue(t)}}function xi(e,n){e&1&&(r(0,"div",4)(1,"p"),l(2,"No users found."),s()())}function yi(e,n){e&1&&u(0,vi,2,0)(1,xi,3,0,"div",4),e&2&&d(n.length>0?0:1)}var _t=class e{constructor(n){this.professionalsService=n;this.loading$=this.professionalsService.Loading$}search$;loading$;onSearchResults(n){this.search$=this.professionalsService.search(n)}static \u0275fac=function(t){return new(t||e)(k(Ct))};static \u0275cmp=b({type:e,selectors:[["app-professionals"]],standalone:!0,features:[M],decls:7,vars:6,consts:[[1,"professionals"],[3,"searchResults"],[1,"container"],[1,"loader"],[1,"noResult"],[3,"professional"]],template:function(t,o){if(t&1&&(r(0,"section",0)(1,"app-search",1),O("searchResults",function(a){return o.onSearchResults(a)}),s(),r(2,"div",2),u(3,Ci,2,0,"div",3),Z(4,"async"),u(5,yi,2,1),Z(6,"async"),s()()),t&2){let i;c(3),d(ne(4,2,o.loading$)?3:-1),c(2),d((i=ne(6,4,o.search$))?5:-1,i)}},dependencies:[gt,ht,Ie,He],styles:[".professionals[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.noResult[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.noResult[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:2em}.loader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})};var vt=class e{message;messageSelected=new be;ngOnInit(){}onSelectMessage(){this.messageSelected.emit(this.message)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-message-item"]],inputs:{message:"message"},outputs:{messageSelected:"messageSelected"},standalone:!0,features:[M],decls:11,vars:8,consts:[[1,"discussion",3,"click"],[1,"media"],["alt","",3,"src"],[1,"contact"],[1,"name"],[1,"message"],[1,"timer"]],template:function(t,o){t&1&&(r(0,"div",0),O("click",function(){return o.onSelectMessage()}),r(1,"div",1),v(2,"img",2),s(),r(3,"div",3)(4,"p",4),l(5),s(),r(6,"p",5),l(7),s()(),r(8,"div",6),l(9),Z(10,"date"),s()()),t&2&&(c(2),Ee("src",o.message.ownerId.profilePic,Me),c(3),we("",o.message.ownerId.firstName," ",o.message.ownerId.lastName,""),c(2),Oe("",o.message.message.slice(0,5),"....."),c(2),le(Mn(10,5,o.message.createdAt,"dd.MM.yyyy, HH:mm")))},dependencies:[wn],styles:[".discussion[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:400px;margin-top:1em;margin-left:1em;background-color:#fafafa;border-bottom:solid 1px #E0E0E0;padding:.8em;cursor:pointer}img[_ngcontent-%COMP%]{display:block;width:100%;height:auto;border-radius:50%;aspect-ratio:1}.media[_ngcontent-%COMP%]{max-width:50px}.contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:1em}.discussion[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:20px}.discussion[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:15px;color:#515151}.timer[_ngcontent-%COMP%]{margin-left:2.5em;font-size:15px;padding:3px 8px;color:#515151;background-color:#fff;border:1px solid #828080;border-radius:15px}"]})};function Si(e,n){if(e&1){let t=ce();r(0,"div",7)(1,"form",8),O("ngSubmit",function(){se(t);let i=_();return ae(i.onSubmit())}),r(2,"h3"),l(3,"Reply"),s(),v(4,"textarea",9),r(5,"button"),l(6,"Send"),s()()()}if(e&2){let t=_();c(),R("formGroup",t.replyForm)}}var xt=class e{constructor(n){this.messagesService=n}message;userId;closed=new be;replyForm;ngOnInit(){this.replyForm=new oe({replyText:new L("",[K.required])})}get isOwner(){return this.userId===this.message.ownerId._id}onSubmit(){if(this.replyForm.invalid)return;let{replyText:n}=this.replyForm.value;if(this.message){let t=this.message.ownerId._id,o=this.message.subject,i=this.message.recipient._id;this.messagesService.createMessage(t,o,n,i)}this.replyForm.reset(),this.closed.emit()}close(){this.closed.emit()}static \u0275fac=function(t){return new(t||e)(k(Be))};static \u0275cmp=b({type:e,selectors:[["app-show-message"]],inputs:{message:"message",userId:"userId"},outputs:{closed:"closed"},standalone:!0,features:[M],decls:15,vars:5,consts:[[1,"modal-overlay"],[1,"message-details-container"],[1,"message-header"],[1,"cross",3,"click"],[1,"sender-name"],[1,"message-subject"],[1,"message-body"],[1,"reply-section"],[3,"ngSubmit","formGroup"],["formControlName","replyText","placeholder","\u041D\u0430\u043F\u0438\u0448\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044F \u043E\u0442\u0433\u043E\u0432\u043E\u0440 \u0442\u0443\u043A...","rows","5"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),O("click",function(){return o.close()}),l(4,"x"),s(),r(5,"h2"),l(6,"Message from: "),r(7,"span",4),l(8),s()(),r(9,"p",5),l(10),s()(),r(11,"div",6)(12,"p"),l(13),s()(),u(14,Si,7,1,"div",7),s()()),t&2&&(c(8),we("",o.message.ownerId.firstName," ",o.message.ownerId.lastName,""),c(2),Oe("Subject: ",o.message.subject,"r"),c(3),le(o.message.message),c(),d(o.isOwner?-1:14))},dependencies:[Pe,ve,he,Ce,_e,xe,ye],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.message-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:600px;margin:200px;background:#272727;border-radius:8px;padding:20px;border:1px solid gray}.message-header[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding-bottom:10px;margin-bottom:20px}.cross[_ngcontent-%COMP%]{display:flex;justify-self:flex-end;max-width:30px;text-transform:uppercase;cursor:pointer}h2[_ngcontent-%COMP%]{color:#fff}.sender-name[_ngcontent-%COMP%]{color:#0e0b0b;font-weight:700}.message-subject[_ngcontent-%COMP%]{font-size:1em;color:#fff;margin-top:5px}.message-body[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1em;line-height:1.6;color:#fff}.reply-section[_ngcontent-%COMP%]{margin-top:20px}.reply-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:#fff;margin-bottom:10px}.reply-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;font-size:1em;padding:1em;background:#272727;border-radius:1em;outline:none;color:#fff;overflow:hidden;resize:none}.reply-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:15%;margin-top:1.2em;justify-self:flex-end;padding:.4em;background:transparent;color:#fff;border:1px solid #fff;border-radius:1.2em;cursor:pointer;outline:none}.reply-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.reply-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}"]})};var ao=(e,n)=>n._id;function bi(e,n){e&1&&(r(0,"div",3),v(1,"app-loader"),s())}function Mi(e,n){if(e&1){let t=ce();r(0,"app-message-item",6),O("messageSelected",function(i){se(t);let a=_(3);return ae(a.showMessage(i))}),s()}if(e&2){let t=n.$implicit;R("message",t)}}function Ei(e,n){e&1&&de(0,Mi,1,1,"app-message-item",5,ao),e&2&&ue(n)}function Oi(e,n){if(e&1&&(u(0,Ei,2,0),Z(1,"async")),e&2){let t,o=_();d((t=ne(1,1,o.messages$))?0:-1,t)}}function wi(e,n){if(e&1){let t=ce();r(0,"app-message-item",6),O("messageSelected",function(i){se(t);let a=_(3);return ae(a.showMessage(i))}),s()}if(e&2){let t=n.$implicit;R("message",t)}}function Ii(e,n){e&1&&de(0,wi,1,1,"app-message-item",5,ao),e&2&&ue(n)}function Ti(e,n){if(e&1&&(u(0,Ii,2,0),Z(1,"async")),e&2){let t,o=_();d((t=ne(1,1,o.sendMessages$))?0:-1,t)}}function Ai(e,n){if(e&1){let t=ce();r(0,"app-show-message",7),O("closed",function(){se(t);let i=_();return ae(i.onClose())}),s()}if(e&2){let t=_();R("message",t.selectedMessage)("userId",t.userId)}}var yt=class e{constructor(n,t){this.userService=n;this.messagesService=t;this.loader$=this.messagesService.Loading$}messages$;loader$;sendMessages$;activeTab="myMessages";get userId(){return this.userService.currentUserId}selectedMessage=null;showMessage(n){this.selectedMessage=n}ngOnInit(){this.loadMessages()}loadMessages(){this.messages$=this.messagesService.getMessages(this.userId)}refresh(){this.activeTab="myMessages",this.loadMessages()}myMessages(){this.activeTab="myMessages",this.loadMessages()}sendMessages(){this.activeTab="sendMessages",this.sendMessages$=this.messagesService.getSendMessages(this.userId)}onClose(){this.selectedMessage=null}static \u0275fac=function(t){return new(t||e)(k(ie),k(Be))};static \u0275cmp=b({type:e,selectors:[["app-messages"]],standalone:!0,features:[M],decls:13,vars:6,consts:[[1,"discussions"],[1,"btns"],[3,"click"],[1,"loader"],[3,"message","userId"],[3,"message"],[3,"messageSelected","message"],[3,"closed","message","userId"]],template:function(t,o){t&1&&(r(0,"section",0)(1,"div",1)(2,"p",2),O("click",function(){return o.refresh()}),l(3,"Refresh"),s(),r(4,"p",2),O("click",function(){return o.myMessages()}),l(5,"My messages"),s(),r(6,"p",2),O("click",function(){return o.sendMessages()}),l(7,"Send messages"),s()(),u(8,bi,2,0,"div",3),Z(9,"async"),u(10,Oi,2,3)(11,Ti,2,3)(12,Ai,1,2,"app-show-message",4),s()),t&2&&(c(8),d(ne(9,4,o.loader$)?8:-1),c(2),d(o.activeTab==="myMessages"?10:-1),c(),d(o.activeTab==="sendMessages"?11:-1),c(),d(o.selectedMessage?12:-1))},dependencies:[vt,Ie,xt,He],styles:[".discussions[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2em auto 0;max-width:500px;height:600px;background-color:#252627;border:1px solid gray;border-radius:1em;overflow:auto}.btns[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2em;justify-content:center;margin-top:1em;margin-bottom:1em}.btns[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.btns[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer}.loader[_ngcontent-%COMP%]{margin:0 auto}"]})};var Pt=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-not-found"]],standalone:!0,features:[M],decls:3,vars:0,consts:[[1,"not-found"]],template:function(t,o){t&1&&(r(0,"section",0)(1,"p"),l(2,"Page Not Found"),s()())},styles:[".not-found[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:10em}.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:3em}"]})};var co=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Fe},{path:"login",component:ut},{path:"register",component:Fe},{path:"register/professional",component:ft},{path:"register/user",component:Re},{path:"register/professional/:userType",component:Re},{path:"messages",component:yt},{path:"professionals",component:_t},{path:"user/profile/:id",component:Gn,canActivate:[Ne]},{path:"profile/:id",loadComponent:()=>import("./chunk-EFGUHDB5.js").then(e=>e.ProfileComponent),canActivate:[Ne]},{path:"posts",loadComponent:()=>import("./chunk-DCU46EKI.js").then(e=>e.PostsComponent),canActivate:[Ne]},{path:"create-post",loadComponent:()=>import("./chunk-TES6Y4J4.js").then(e=>e.CreatePostComponent),canActivate:[Ne]},{path:"404",component:Pt},{path:"**",redirectTo:"/404"}];var ki={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},St="__@ngrx/effects_create__";function H(e,n={}){let t=n.functional?e:e(),o=C(C({},ki),n);return Object.defineProperty(t,St,{value:o}),t}function ji(e){return Object.getOwnPropertyNames(e).filter(o=>e[o]&&e[o].hasOwnProperty(St)?e[o][St].hasOwnProperty("dispatch"):!1).map(o=>{let i=e[o][St];return C({propertyName:o},i)})}function Di(e){return ji(e)}function lo(e){return Object.getPrototypeOf(e)}function $i(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function po(e){return typeof e=="function"}function Li(e){return e.filter(po)}function Gi(e,n,t){let o=lo(e),a=!!o&&o.constructor.name!=="Object"?o.constructor.name:null,f=Di(e).map(({propertyName:g,dispatch:w,useEffectsErrorHandler:p})=>{let F=typeof e[g]=="function"?e[g]():e[g],m=p?t(F,n):F;return w===!1?m.pipe(un()):m.pipe(gn()).pipe(S(z=>({effect:e[g],notification:z,propertyName:g,sourceName:a,sourceInstance:e})))});return Se(...f)}var Vi=10;function mo(e,n,t=Vi){return e.pipe(N(o=>(n&&n.handleError(o),t<=1?e:mo(e,n,t-1))))}var bt=(()=>{class e extends Ae{constructor(t){super(),t&&(this.source=t)}lift(t){let o=new e;return o.source=this,o.operator=t,o}static{this.\u0275fac=function(o){return new(o||e)(T(Ze))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function B(...e){return te(n=>e.some(t=>typeof t=="string"?t===n.type:t.type===n.type))}var ga=new q("@ngrx/effects Internal Root Guard"),ha=new q("@ngrx/effects User Provided Effects"),Ca=new q("@ngrx/effects Internal Root Effects"),_a=new q("@ngrx/effects Internal Root Effects Instances"),va=new q("@ngrx/effects Internal Feature Effects"),xa=new q("@ngrx/effects Internal Feature Effects Instance Groups"),zi=new q("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>mo}),Ui="@ngrx/effects/init",Hi=zn(Ui);function Bi(e,n){if(e.notification.kind==="N"){let t=e.notification.value;!qi(t)&&n.handleError(new Error(`Effect ${Zi(e)} dispatched an invalid action: ${Ki(t)}`))}}function qi(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Zi({propertyName:e,sourceInstance:n,sourceName:t}){let o=typeof n[e]=="function";return!!t?`"${t}.${String(e)}${o?"()":""}"`:`"${String(e)}()"`}function Ki(e){try{return JSON.stringify(e)}catch{return e}}var Xi="ngrxOnIdentifyEffects";function Yi(e){return Ut(e,Xi)}var Ji="ngrxOnRunEffects";function Wi(e){return Ut(e,Ji)}var Qi="ngrxOnInitEffects";function er(e){return Ut(e,Qi)}function Ut(e,n){return e&&n in e&&typeof e[n]=="function"}var uo=(()=>{class e extends rn{constructor(t,o){super(),this.errorHandler=t,this.effectsErrorHandler=o}addEffects(t){this.next(t)}toActions(){return this.pipe(Dt(t=>$i(t)?lo(t):t),ee(t=>t.pipe(Dt(tr))),ee(t=>{let o=t.pipe($e(a=>nr(this.errorHandler,this.effectsErrorHandler)(a)),S(a=>(Bi(a,this.errorHandler),a.notification)),te(a=>a.kind==="N"&&a.value!=null),fn()),i=t.pipe(De(1),te(er),S(a=>a.ngrxOnInitEffects()));return Se(o,i)}))}static{this.\u0275fac=function(o){return new(o||e)(T(Ve),T(zi))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tr(e){return Yi(e)?e.ngrxOnIdentifyEffects():""}function nr(e,n){return t=>{let o=Gi(t,e,n);return Wi(t)?t.ngrxOnRunEffects(o):o}}var or=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,o){this.effectSources=t,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(o){return new(o||e)(T(uo),T(Ke))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fo(...e){let n=e.flat(),t=Li(n);return Ge([t,{provide:xn,multi:!0,useValue:()=>{D(Hn),D(Bn,{optional:!0});let o=D(or),i=D(uo),a=!o.isStarted;a&&o.start();for(let f of n){let g=po(f)?D(f):f;i.addEffects(g)}a&&D(Ke).dispatch(Hi())}}])}var rr={posts:[],loading:!1},go=Xe(rr,G(Ye,(e,{posts:n})=>y(C({},e),{loading:!0,posts:n})),G(Qe,(e,{post:n})=>y(C({},e),{loading:!0,posts:sr(e.posts,n)})),G(Je,(e,{posts:n})=>y(C({},e),{posts:[...e.posts,...n]})),G(We,(e,{post:n})=>y(C({},e),{posts:ar(e.posts,n)})),G(et,(e,{id:n})=>y(C({},e),{loading:!0,posts:cr(e.posts,n)})),G(tt,(e,{postId:n,userId:t})=>y(C({},e),{posts:lr(e.posts,n,t)})),G(nt,(e,{postId:n,userId:t})=>y(C({},e),{posts:pr(e.posts,n,t)}))),sr=(e,n)=>[...e,n],ar=(e,n)=>e.map(t=>t._id===n._id?Object.assign({},t,n):t),cr=(e,n)=>e.filter(t=>n!==t._id),lr=(e,n,t)=>e.map(o=>o._id===n?y(C({},o),{likes:[...o.likes,t]}):o),pr=(e,n,t)=>e.map(o=>o._id===n?y(C({},o),{likes:o.likes.filter(i=>i!==t)}):o);var Mt=class e{postService=D(io);actions$=D(bt);loadPosts$=H(()=>this.actions$.pipe(B(Yn),$e(()=>this.postService.getAllPosts().pipe(S(n=>Ye({posts:n})),N(()=>j({type:"[Post API] Load Posts Failure"}))))));loadMorePosts$=H(()=>this.actions$.pipe(B(Jn),re(({num:n})=>this.postService.getMorePosts(n).pipe(S(t=>Je({posts:t})),N(()=>j({type:"[Post API] Load more Posts Failure"}))))));addPost$=H(()=>this.actions$.pipe(B(Qn),me(({file:n,description:t,userId:o})=>this.postService.uploadPost(n,t,o).pipe(S(i=>Qe({post:i})),N(()=>j({type:"[Post API] Add Post Failure"}))))));editPost$=H(()=>this.actions$.pipe(B(Wn),me(({file:n,description:t,postId:o})=>this.postService.editPost(n,t,o).pipe(S(i=>We({post:i})),N(()=>j({type:"[Post API] Edit Post Failure"}))))));deletePost$=H(()=>this.actions$.pipe(B(et),ee(n=>this.postService.deletePost(n.id,n.userId).pipe(S(()=>({type:"[Post API] Delete Post Success"})),N(()=>j({type:"[Post API] Delete Post Failure"}))))));likePost$=H(()=>this.actions$.pipe(B(tt),ee(n=>this.postService.likePost(n.postId,n.userId).pipe(S(()=>({type:"[Post API] Liked Post Success"})),N(()=>j({type:"[Post API] like Post Failure"}))))));unlikePost$=H(()=>this.actions$.pipe(B(nt),ee(n=>this.postService.unlikePost(n.postId,n.userId).pipe(S(()=>({type:"[Post API] unliked Post Success"})),N(()=>j({type:"[Post API] unlike Post Failure"}))))));static \u0275fac=function(t){return new(t||e)};static \u0275prov=V({token:e,factory:e.\u0275fac})};var dr={comments:[],loading:!1},ho=Xe(dr,G(ot,(e,{comments:n})=>y(C({},e),{loading:!0,comments:n})),G(it,(e,{comment:n})=>y(C({},e),{comments:ur(e.comments,n)})),G(ct,(e,{comment:n})=>y(C({},e),{comments:fr(e.comments,n)})),G(at,(e,{postId:n,commentId:t})=>y(C({},e),{comments:gr(e.comments,t)})),G(rt,(e,{comment:n})=>y(C({},e),{comments:vr(e.comments,n)})),G(st,(e,{parentId:n,replies:t})=>y(C({},e),{comments:_r(e.comments,n,t)})),G(lt,(e,{parentId:n,replyId:t,text:o})=>y(C({},e),{comments:Cr(e.comments,n,t,o)})),G(pt,(e,{parentId:n,replyId:t})=>y(C({},e),{comments:hr(e.comments,n,t)}))),ur=(e,n)=>[...e,n],fr=(e,n)=>e.map(t=>t._id===n._id?Object.assign({},t,n):t),gr=(e,n)=>e.filter(t=>n!==t._id),hr=(e,n,t)=>e.map(o=>o._id===n?y(C({},o),{replies:o.replies.filter(i=>i!==t),showReplies:o.showReplies.filter(i=>i._id!==t)}):o),Cr=(e,n,t,o)=>e.map(i=>i._id===n?y(C({},i),{showReplies:i.showReplies.map(a=>a._id===t?y(C({},a),{comment:o}):a)}):i),_r=(e,n,t)=>e.map(o=>o._id===n?y(C({},o),{showReplies:[...t]}):o),vr=(e,n)=>e.map(t=>t._id===n.parentId?y(C({},t),{replies:[...t.replies,n._id],showReplies:[...t.showReplies,n]}):t);var Et=class e{constructor(n){this.http=n}getPostComments(n){return this.http.get(`http://localhost:3010/comments/getComments/${n}`)}createComment(n,t,o,i,a){return this.http.post("http://localhost:3010/comments/create",{comment:n,userId:t,username:o,postId:i,parentId:a})}getReplies(n){return this.http.get(`http://localhost:3010/comments/${n}/replies`)}getComment(n){return this.http.get(`http://localhost:3010/comments/${n}/getComment`)}editComment(n,t){return this.http.patch(`http://localhost:3010/comments/${n}/edit`,{text:t})}deleteComment(n,t){return this.http.delete(`http://localhost:3010/comments/${t}/${n}/delete`)}deleteReplie(n,t,o){return this.http.delete(`http://localhost:3010/comments/${o}/${n}/${t}/delete`)}static \u0275fac=function(t){return new(t||e)(T(ze))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ot=class e{commentService=D(Et);actions$=D(bt);loadComments$=H(()=>this.actions$.pipe(B(eo),re(({postId:n})=>this.commentService.getPostComments(n).pipe(S(t=>ot({comments:t})),N(()=>j({type:"[Post API] Load Posts Failure"}))))));loadReplies$=H(()=>this.actions$.pipe(B(no),re(({parentId:n})=>this.commentService.getReplies(n).pipe(S(t=>st({parentId:n,replies:t})),N(()=>j({type:"[Post API] Load Posts Failure"}))))));addComment$=H(()=>this.actions$.pipe(B(to),re(({text:n,userId:t,username:o,postId:i,parentId:a})=>this.commentService.createComment(n,t,o,i,a).pipe(S(f=>f.parentId?rt({comment:f}):it({comment:f})),N(()=>j({type:"[Post API] Load Posts Failure"}))))));editComment$=H(()=>this.actions$.pipe(B(oo),me(({commentId:n,comment:t})=>this.commentService.editComment(n,t).pipe(S(o=>o.parentId?lt({parentId:o.parentId,replyId:n,text:o.comment}):ct({comment:o})))),N(()=>j({type:"[Post API] Load Posts Failure"}))));deleteComment$=H(()=>this.actions$.pipe(B(at),ee(({commentId:n,postId:t})=>this.commentService.deleteComment(n,t).pipe(S(()=>({type:"[Post API] Delete Post Success"})),N(()=>j({type:"[Post API] Delete Post Failure"}))))));deleteReplie$=H(()=>this.actions$.pipe(B(pt),ee(({parentId:n,replyId:t,postId:o})=>this.commentService.deleteReplie(n,t,o).pipe(S(()=>({type:"[Post API] Delete Post Success"})),N(()=>j({type:"[Post API] Delete Post Failure"}))))));static \u0275fac=function(t){return new(t||e)};static \u0275prov=V({token:e,factory:e.\u0275fac})};var je="PERFORM_ACTION",xr="REFRESH",Po="RESET",So="ROLLBACK",bo="COMMIT",Mo="SWEEP",Eo="TOGGLE_ACTION",yr="SET_ACTIONS_ACTIVE",Oo="JUMP_TO_STATE",wo="JUMP_TO_ACTION",nn="IMPORT_STATE",Io="LOCK_CHANGES",To="PAUSE_RECORDING",Te=class{constructor(n,t){if(this.action=n,this.timestamp=t,this.type=je,typeof n.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Ht=class{constructor(){this.type=xr}},Bt=class{constructor(n){this.timestamp=n,this.type=Po}},qt=class{constructor(n){this.timestamp=n,this.type=So}},Zt=class{constructor(n){this.timestamp=n,this.type=bo}},Kt=class{constructor(){this.type=Mo}},Xt=class{constructor(n){this.id=n,this.type=Eo}};var Yt=class{constructor(n){this.index=n,this.type=Oo}},Jt=class{constructor(n){this.actionId=n,this.type=wo}},Wt=class{constructor(n){this.nextLiftedState=n,this.type=nn}},Qt=class{constructor(n){this.status=n,this.type=Io}},en=class{constructor(n){this.status=n,this.type=To}};var At=new q("@ngrx/store-devtools Options"),Co=new q("@ngrx/store-devtools Initial Config");function Ao(){return null}var Pr="NgRx Store DevTools";function Sr(e){let n={maxAge:!1,monitor:Ao,actionSanitizer:void 0,stateSanitizer:void 0,name:Pr,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t=typeof e=="function"?e():e,o=t.logOnly?{pause:!0,export:!0,test:!0}:!1,i=t.features||o||n.features;i.import===!0&&(i.import="custom");let a=Object.assign({},n,{features:i},t);if(a.maxAge&&a.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${a.maxAge}`);return a}function _o(e,n){return e.filter(t=>n.indexOf(t)<0)}function Ro(e){let{computedStates:n,currentStateIndex:t}=e;if(t>=n.length){let{state:i}=n[n.length-1];return i}let{state:o}=n[t];return o}function ke(e){return new Te(e,+Date.now())}function br(e,n){return Object.keys(n).reduce((t,o)=>{let i=Number(o);return t[i]=Fo(e,n[i],i),t},{})}function Fo(e,n,t){return y(C({},n),{action:e(n.action,t)})}function Mr(e,n){return n.map((t,o)=>({state:No(e,t.state,o),error:t.error}))}function No(e,n,t){return e(n,t)}function ko(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Er(e,n,t,o){let i=[],a={},f=[];return e.stagedActionIds.forEach((g,w)=>{let p=e.actionsById[g];p&&(w&&on(e.computedStates[w],p,n,t,o)||(a[g]=p,i.push(g),f.push(e.computedStates[w])))}),y(C({},e),{stagedActionIds:i,actionsById:a,computedStates:f})}function on(e,n,t,o,i){let a=t&&!t(e,n.action),f=o&&!n.action.type.match(o.map(w=>vo(w)).join("|")),g=i&&n.action.type.match(i.map(w=>vo(w)).join("|"));return a||f||g}function vo(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jo(e){return{ngZone:e?D(Pn):null,connectInZone:e}}var Rt=(()=>{class e extends qe{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yn(e)))(i||e)}})()}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),wt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},tn=new q("@ngrx/store-devtools Redux Devtools Extension"),Do=(()=>{class e{constructor(t,o,i){this.config=o,this.dispatcher=i,this.zoneConfig=jo(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,o){if(this.devtoolsExtension)if(t.type===je){if(o.isLocked||o.isPaused)return;let i=Ro(o);if(ko(this.config)&&on(i,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let a=this.config.stateSanitizer?No(this.config.stateSanitizer,i,o.currentStateIndex):i,f=this.config.actionSanitizer?Fo(this.config.actionSanitizer,t,o.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(f,a))}else{let i=y(C({},o),{stagedActionIds:o.stagedActionIds,actionsById:this.config.actionSanitizer?br(this.config.actionSanitizer,o.actionsById):o.actionsById,computedStates:this.config.stateSanitizer?Mr(this.config.stateSanitizer,o.computedStates):o.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Ae(t=>{let o=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=o,o.init(),o.subscribe(i=>t.next(i)),o.unsubscribe}):ln}createActionStreams(){let t=this.createChangesObservable().pipe(Cn()),o=t.pipe(te(p=>p.type===wt.START)),i=t.pipe(te(p=>p.type===wt.STOP)),a=t.pipe(te(p=>p.type===wt.DISPATCH),S(p=>this.unwrapAction(p.payload)),me(p=>p.type===nn?this.dispatcher.pipe(te(F=>F.type===Gt),mn(1e3),dn(1e3),S(()=>p),N(()=>j(p)),De(1)):j(p))),g=t.pipe(te(p=>p.type===wt.ACTION),S(p=>this.unwrapAction(p.payload))).pipe(Le(i)),w=a.pipe(Le(i));this.start$=o.pipe(Le(i)),this.actions$=this.start$.pipe(re(()=>g)),this.liftedActions$=this.start$.pipe(re(()=>w))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){let o={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return t.maxAge!==!1&&(o.maxAge=t.maxAge),o}sendToReduxDevtools(t){try{t()}catch(o){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",o)}}static{this.\u0275fac=function(o){return new(o||e)(T(tn),T(At),T(Rt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),Tt={type:Lt},Or="@ngrx/store-devtools/recompute",wr={type:Or};function $o(e,n,t,o,i){if(o)return{state:t,error:"Interrupted by an error up the chain"};let a=t,f;try{a=e(t,n)}catch(g){f=g.toString(),i.handleError(g)}return{state:a,error:f}}function It(e,n,t,o,i,a,f,g,w){if(n>=e.length&&e.length===a.length)return e;let p=e.slice(0,n),F=a.length-(w?1:0);for(let m=n;m<F;m++){let P=a[m],z=i[P].action,x=p[m-1],h=x?x.state:o,J=x?x.error:void 0,W=f.indexOf(P)>-1?x:$o(t,z,h,J,g);p.push(W)}return w&&p.push(e[e.length-1]),p}function Ir(e,n){return{monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:ke(Tt)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Tr(e,n,t,o,i={}){return a=>(f,g)=>{let{monitorState:w,actionsById:p,nextActionId:F,stagedActionIds:m,skippedActionIds:P,committedState:z,currentStateIndex:x,computedStates:h,isLocked:J,isPaused:U}=f||n;f||(p=Object.create(p));function W(A){let I=A,pe=m.slice(1,I+1);for(let Y=0;Y<pe.length;Y++)if(h[Y+1].error){I=Y,pe=m.slice(1,I+1);break}else delete p[pe[Y]];P=P.filter(Y=>pe.indexOf(Y)===-1),m=[0,...m.slice(I+1)],z=h[I].state,h=h.slice(I),x=x>I?x-I:0}function Q(){p={0:ke(Tt)},F=1,m=[0],P=[],z=h[x].state,x=0,h=[]}let E=0;switch(g.type){case Io:{J=g.status,E=1/0;break}case To:{U=g.status,U?(m=[...m,F],p[F]=new Te({type:"@ngrx/devtools/pause"},+Date.now()),F++,E=m.length-1,h=h.concat(h[h.length-1]),x===m.length-2&&x++,E=1/0):Q();break}case Po:{p={0:ke(Tt)},F=1,m=[0],P=[],z=e,x=0,h=[];break}case bo:{Q();break}case So:{p={0:ke(Tt)},F=1,m=[0],P=[],x=0,h=[];break}case Eo:{let{id:A}=g;P.indexOf(A)===-1?P=[A,...P]:P=P.filter(pe=>pe!==A),E=m.indexOf(A);break}case yr:{let{start:A,end:I,active:pe}=g,Y=[];for(let kt=A;kt<I;kt++)Y.push(kt);pe?P=_o(P,Y):P=[...P,...Y],E=m.indexOf(A);break}case Oo:{x=g.index,E=1/0;break}case wo:{let A=m.indexOf(g.actionId);A!==-1&&(x=A),E=1/0;break}case Mo:{m=_o(m,P),P=[],x=Math.min(x,m.length-1);break}case je:{if(J)return f||n;if(U||f&&on(f.computedStates[x],g,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let I=h[h.length-1];h=[...h.slice(0,-1),$o(a,g.action,I.state,I.error,t)],E=1/0;break}i.maxAge&&m.length===i.maxAge&&W(1),x===m.length-1&&x++;let A=F++;p[A]=g,m=[...m,A],E=m.length-1;break}case nn:{({monitorState:w,actionsById:p,nextActionId:F,stagedActionIds:m,skippedActionIds:P,committedState:z,currentStateIndex:x,computedStates:h,isLocked:J,isPaused:U}=g.nextLiftedState);break}case Lt:{E=0,i.maxAge&&m.length>i.maxAge&&(h=It(h,E,a,z,p,m,P,t,U),W(m.length-i.maxAge),E=1/0);break}case Gt:{if(h.filter(I=>I.error).length>0)E=0,i.maxAge&&m.length>i.maxAge&&(h=It(h,E,a,z,p,m,P,t,U),W(m.length-i.maxAge),E=1/0);else{if(!U&&!J){x===m.length-1&&x++;let I=F++;p[I]=new Te(g,+Date.now()),m=[...m,I],E=m.length-1,h=It(h,E,a,z,p,m,P,t,U)}h=h.map(I=>y(C({},I),{state:a(I.state,wr)})),x=m.length-1,i.maxAge&&m.length>i.maxAge&&W(m.length-i.maxAge),E=1/0}break}default:{E=1/0;break}}return h=It(h,E,a,z,p,m,P,t,U),w=o(w,g),{monitorState:w,actionsById:p,nextActionId:F,stagedActionIds:m,skippedActionIds:P,committedState:z,currentStateIndex:x,computedStates:h,isLocked:J,isPaused:U}}}var xo=(()=>{class e{constructor(t,o,i,a,f,g,w,p){let F=Ir(w,p.monitor),m=Tr(w,F,g,p.monitor,p),P=Se(Se(o.asObservable().pipe(_n(1)),a.actions$).pipe(S(ke)),t,a.liftedActions$).pipe(pn(cn)),z=i.pipe(S(m)),x=jo(p.connectInZone),h=new an(1);this.liftedStateSubscription=P.pipe(vn(z),yo(x),hn(({state:W},[Q,E])=>{let A=E(W,Q);return Q.type!==je&&ko(p)&&(A=Er(A,p.predicate,p.actionsSafelist,p.actionsBlocklist)),a.notify(Q,A),{state:A,action:Q}},{state:F,action:null})).subscribe(({state:W,action:Q})=>{if(h.next(W),Q.type===je){let E=Q.action;f.next(E)}}),this.extensionStartSubscription=a.start$.pipe(yo(x)).subscribe(()=>{this.refresh()});let J=h.asObservable(),U=J.pipe(S(Ro));Object.defineProperty(U,"state",{value:Vn(U,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=J,this.state=U}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new Te(t,+Date.now()))}refresh(){this.dispatch(new Ht)}reset(){this.dispatch(new Bt(+Date.now()))}rollback(){this.dispatch(new qt(+Date.now()))}commit(){this.dispatch(new Zt(+Date.now()))}sweep(){this.dispatch(new Kt)}toggleAction(t){this.dispatch(new Xt(t))}jumpToAction(t){this.dispatch(new Jt(t))}jumpToState(t){this.dispatch(new Yt(t))}importState(t){this.dispatch(new Wt(t))}lockChanges(t){this.dispatch(new Qt(t))}pauseRecording(t){this.dispatch(new en(t))}static{this.\u0275fac=function(o){return new(o||e)(T(Rt),T(qe),T(qn),T(Do),T(Ze),T(Ve),T(Un),T(At))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function yo({ngZone:e,connectInZone:n}){return t=>n?new Ae(o=>t.subscribe({next:i=>e.run(()=>o.next(i)),error:i=>e.run(()=>o.error(i)),complete:()=>e.run(()=>o.complete())})):t}var Ar=new q("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Rr(e,n){return!!e||n.monitor!==Ao}function Fr(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Lo(e={}){return Ge([Do,Rt,xo,{provide:Co,useValue:e},{provide:Ar,deps:[tn,At],useFactory:Rr},{provide:tn,useFactory:Fr},{provide:At,deps:[Co],useFactory:Sr},{provide:Kn,deps:[xo],useFactory:Nr},{provide:Zn,useExisting:Rt}])}function Nr(e){return e.state}var Go={providers:[An(),En({eventCoalescing:!0}),kn(co),Xn({posts:go,comments:ho}),fo([Mt,Ot]),Lo({maxAge:25,logOnly:!On()})]};function kr(e,n){e&1&&(r(0,"li")(1,"a",9),l(2,"Create Post"),s()())}function jr(e,n){e&1&&v(0,"img",8),e&2&&Ee("src",n,Me)}function Dr(e,n){if(e&1&&(r(0,"li")(1,"a",11),l(2,"Profile"),s()()),e&2){let t=_(3);c(),Sn("routerLink","/profile/",t.userId,"")}}function $r(e,n){if(e&1){let t=ce();r(0,"li")(1,"a",10),O("click",function(){se(t);let i=_(2);return ae(i.logoutHanlder())}),l(2,"Logout"),s()(),u(3,Dr,3,2,"li")}if(e&2){let t=_(2);c(3),d(t.userType?3:-1)}}function Lr(e,n){if(e&1){let t=ce();u(0,kr,3,0,"li"),r(1,"li")(2,"a",5),l(3,"Posts"),s()(),r(4,"li")(5,"a",6),l(6,"Messages"),s()(),r(7,"div",7),O("click",function(){se(t);let i=_();return ae(i.show())}),u(8,jr,1,1,"img",8),Z(9,"async"),u(10,$r,4,1),s()}if(e&2){let t,o=_();d(o.userType?0:-1),c(8),d((t=ne(9,3,o.profilePic$))?8:-1,t),c(2),d(o.showItems?10:-1)}}function Gr(e,n){e&1&&(r(0,"li")(1,"a",12),l(2,"Login"),s()(),r(3,"li")(4,"a",13),l(5,"Register"),s()())}var Ft=class e{constructor(n,t){this.userService=n;this.router=t}showItems=!1;profilePic$;isLogged$;ngOnInit(){this.isLogged$=this.userService.isLogged$,this.isLogged$.subscribe(n=>{n&&this.loadProfilePic()})}loadProfilePic(){this.profilePic$=this.userService.getPic()}get userType(){return this.userService.userType}get isLoggedIn(){return this.userService.isLogged}get userId(){return this.userService.currentUserId}show(){this.showItems=!this.showItems}logoutHanlder(){this.userService.logout().subscribe(()=>{}),this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||e)(k(ie),k(fe))};static \u0275cmp=b({type:e,selectors:[["app-header"]],standalone:!0,features:[M],decls:12,vars:3,consts:[[1,"site-section","site-header"],[1,"site-tittle"],["routerLink","/home"],[1,"main-nav"],["routerLink","/professionals"],["routerLink","/posts"],["routerLink","/messages"],[1,"media",3,"click"],["alt","",3,"src"],["routerLink","/create-post"],[3,"click"],[3,"routerLink"],["routerLink","/login"],["routerLink","/register"]],template:function(t,o){t&1&&(r(0,"header",0)(1,"div",1)(2,"a",2),l(3,"Sportix"),s()(),r(4,"nav",3)(5,"ul")(6,"li")(7,"a",4),l(8,"Professionals"),s()(),u(9,Lr,11,5),Z(10,"async"),u(11,Gr,6,0),s()()()),t&2&&(c(9),d(ne(10,1,o.isLogged$)?9:11))},dependencies:[ge,Ie],styles:[".site-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#272727;padding:1em}.media[_ngcontent-%COMP%]{margin-right:1em;max-width:60px;max-height:60px}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;max-height:auto;border-radius:50%;aspect-ratio:1}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.site-tittle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:1.3em}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}.main-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;list-style:none}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.5em 1em;text-decoration:none;color:#fff;font-size:1.2em;cursor:pointer}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#03495a}"]})};var Nt=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-root"]],standalone:!0,features:[M],decls:2,vars:0,template:function(t,o){t&1&&v(0,"app-header")(1,"router-outlet")},dependencies:[Nn,Ft,In]})};Rn(Nt,Go).catch(e=>console.error(e));
